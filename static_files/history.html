<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,
  initial-scale=1.0">
  <title>History</title>
  <script src="https://www.gstatic.com/firebasejs/4.13.0/firebase.js"></script>
  <script src="jquery-3.3.1.min.js"></script>
 

</head>
<body>
	<a href = "index.html">
    <button class="history">Home</button>
    </a>


    <h1>Coordinate History</h1>
  

  <div id="test"></div>

 <script type="text/javascript">
 var lat;
 var lng;
 var photo;
   var config = {
    apiKey: "AIzaSyCqsnk4ZFV7jtlCZ-l161iBo7BpQFJueA8",
    authDomain: "cogs121-4b110.firebaseapp.com",
    databaseURL: "https://cogs121-4b110.firebaseio.com",
    projectId: "cogs121-4b110",
    storageBucket: "cogs121-4b110.appspot.com",
    messagingSenderId: "398783944630"
  };
  firebase.initializeApp(config);
  var database;
  database = firebase.database();

  var ref = database.ref('clicks');
  ref.on('value', gotData, errData);

  

  function gotData(data) {
    var clickData = data.val();
    var keys = Object.keys(clickData);

    for (var i = 0; i < keys.length; i++) {
      var k = keys[i];
      latitude = clickData[k].lat;
      longitude = clickData[k].lng;
      photo = clickData[k].picture;
      console.log(photo);
      
      $('#test').append("<li>Latitude: " + latitude + " Longitude: " + longitude + "</li>" + "<img src=" + photo + ">" + "<hr>");
    }
    
  }

  function errData(err) {
    console.log('Error!');
    console.log(err);
  }


</script>





  </body>
  </html>